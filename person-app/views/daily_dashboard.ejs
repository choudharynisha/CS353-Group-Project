<!DOCTYPE html>
<html lang = "en-US" dir = "ltr">
    <head>
        <title>Dashboard</title>
        <script src = "https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js" type = "text/javascript"></script>
         <!-- <script src = "dashboard.js" type = "text/javascript"></script>  -->

        <style>
            body{
                background-color: cornflowerblue;
            }
        </style>
    </head>
    <body>
        <button onclick = "window.history.back();">Back</button>
        <button onclick = "window.open('/', '_self');">Main Menu</button><br /><br />
        
        <h1 >  Dailies </h1>
        <br /><br />
        <div id = "container" style = "width: 500px; height: 400px;"></div>
        <br /><br />
       <!-- <p style="color: black;">
    

      <%  let date = [0];
            let tra = [0];
            let list =[];
            
          for( let i =0; i< test[0].length; i++){ %> 
           <% date = [test[0][i] ];
                  %>
                 <p><%= date %></p>

               <% list.push(date);
                 %> <% } 
                 
          %>

                
        </p> -->

        <br>
        <br>

        <div id="dailygoals" style = " width: 500px; height: 400px; background-color: aliceblue; ">
            <br>
            <h3 style="text-align: center;">Daily Goals</h3>
      
            <ul style="color: black; text-align: center;"> 
                <% for( let i =0; i< test[1].length; i++){ %> 
                    <%if( test[1][i].type === 'daily'){ %>
                    <p><%= test[1][i].description %></p> <% } }%>
                    
             </ul>
        </div>

        <div id="weeklygoals" style = " width: 500px; height: 400px; background-color: aliceblue; ">
            <br>
            <h3 style="text-align: center;">Weekly Goals</h3>
      
            <ul style="color: black; text-align: center;"> 
                <% for( let i =0; i< test[1].length; i++){%> 
                    <%if( test[1][i].type === 'weekly'){ %>
                    <p><%= test[1][i].description %></p> <%} }%>
        
             </ul>
        </div>
       
        
        <div id="monthlygoals" style = " width: 500px; height: 400px; background-color: aliceblue; ">
            <br>
            <h3 style="text-align: center;">Monthly Goals</h3>
      
            <ul style="color: black; text-align: center;"> 
                <% for( let i =0; i< test[1].length; i++){%> 
                    <%if( test[1][i].type === 'monthly'){ %>
                    <p><%= test[1][i].description %></p> <%  } }%>
        
             </ul>
        </div>




        <script>
            // let currentUser = '"1234"'; 
             var temptracker =  "<%= test[0] %>"; 
             
             //console.log(temptracker);

            
           
            

            
             let tracker = temptracker.split('*'); 


             let data =[];
            //console.log(tracker[0]); 

            for (var i = 0 ; i < tracker.length; i += 6)
            {
                //tracker[i].replaceAll(" ", ""); 
                var tempdata =tracker[i].split(',');
                
                // if(tempdata[1])
                // {
                //         var da = Date.parse(tempdata[1]); 
                //         tempdata[1] = da.getUTCDate();  
                // }
                // else
                // {
                    
                // }

                //console.log(tempdata);

                data.push(tempdata);
            }
             console.log(data);

            // for(let i = 0; i < tracker.length; i++)
            // {
            //     if(tracker[i] === '' || tracker[i] === 'null')
            //     {
            //         tracker[i] = 11; 
            //     }
            //     else if (Number.isInteger(tracker[i].valueOf) ) 
            //     {
            //         let tempnum = tracker[i]; 
            //         tracker[i] = parseInt(tempnum); 
            //     }
            // }
            // console.log(tracker); 
            // console.log(nt);

            // console.log(nt); 
            // let tem = tracker.split(']'); 
            // console.log(tem); 
       //anychart.onDocumentReady(function () {
         anychart.onDocumentReady(function () {
                 var chart = anychart.line();
                
                    //  var energy = chart.line([
                    // {x: "day one", value: tracker[0]},
                    // {x: "day two", value: tracker[5]},
                    
                // ]);
                // var depression = chart.line([
                //     {x: "day one", value: tracker[1]},
                //     {x: "day two", value: tracker[6]},
                    
        //         ]);
        //         var anxiety = chart.line([
        //             {x: "day one", value: tracker[2]},
        //             {x: "day two", value: tracker[7]},
                    
        //         ]);
        //         var stress = chart.line([
        //             {x: "day one", value: tracker[3]},
        //             {x: "day two", value: tracker[8]},
                    
        //         ]);
        //         var motivation = chart.line([
        //             {x: "day one", value: tracker[4]},
        //             {x: "day two", value: tracker[9]},
                    
        //         ]);
                
        //         // var series2 = chart.line([
        //         //     {x: 'Cycling', value: 35},
        //         //     {x: 'Swimming', value: 23},
        //         //     {x: 'Run', value: 14},
        //         //     {x: 'Hiking', value: 50}
        //         // ]);
                
        //         // // Get Z-Index of the line series.
        //         // var zIndex = series2.zIndex();
                
                chart.title('Tracker data ');
                
                chart.container('container');
                chart.draw();
         });

        // });
         </script>
        
      
    </body>
</html>